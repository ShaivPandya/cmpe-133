<!-- Bootstrap elements:  CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>

<h1>View Job Openings</h1>
<div class="container mt-4">
     <div class="row">
       {% for Job in Jobs %}
       <div class="col-auto mb-3">
         <div class="card" style="width: 18rem;">
           {% with messages = get_flashed_messages() %}
           {% if messages %}
             {% if id|int() == Job.ID|int() %}
               <div class="text-danger">
                   {{ messages[0] }}
               </div>
             {% endif %}
           {% endif %}
           {% endwith %}
           <img class="card-img-top" src="{{ url_for('static', filename='images/'+business.image) }}" style="max-height: 200px;"alt="Card image cap">
           <div class="card-body">
             <h5 class="card-title">{{ business.name }}</h5>
             <p class="card-text">{{ Job.view }}</p>
           </div>
           <div class="card-footer">
             <div class="d-flex justify-content-between align-items-center mb-3">
               <div>
                 <p class="text-muted">${{ Job.status }}</p>
               </div>

               <!-- not sure what this does took it from last semesters project and slightly edited it -->

               <form method="GET" action="{{ url_for('main.purchase', productID=listing.productID) }}">
                 <div class="d-flex flex-row">
                   <button class="btn btn-link px-2"
                     onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                     <i class="fas fa-minus"></i>
                   </button>
   
                   <input id="form1" min="0" name="quantity" value="1" type="number"
                     class="form-control form-control-sm" style="width: 50px; margin-top: -10px; margin-bottom: 10px;" />
   
                   <button class="btn btn-link px-2"
                     onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                     <i class="fas fa-plus"></i>
                   </button>
                 </div>
                 <button type="submit" class="btn btn-success">View</button>
               </form>
             </div>
           </div>
         </div>
       </div>
       {% endfor %}
     </div>
   </div>
   {% endblock %}
   